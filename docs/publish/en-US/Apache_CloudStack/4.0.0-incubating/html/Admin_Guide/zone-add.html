<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>7.2. Adding a Zone</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.8" /><meta name="package" content="Apache_CloudStack-Admin_Guide-4.0.0-incubating-en-US-1-" /><script type="text/javascript" src="../../../../../toc.js"></script><script type="text/javascript">
              addID('Apache_CloudStack');
              
	      addID('Apache_CloudStack.4.0.0-incubating');
              
              addID('Apache_CloudStack.4.0.0-incubating.books');
	      addID('Apache_CloudStack.4.0.0-incubating.Admin_Guide');
              </script><link rel="home" href="index.html" title="CloudStack Administrator's Guide" /><link rel="up" href="provisioning-steps.html" title="Chapter 7. Steps to Provisioning Your Cloud Infrastructure" /><link rel="prev" href="provisioning-steps-overview.html" title="7.1. Overview of Provisioning Steps" /><link rel="next" href="pod-add.html" title="7.3. Adding a Pod" /></head><body class="toc_embeded "><div id="tocdiv" class="toc"><iframe id="tocframe" class="toc" src="../../../../toc.html">This is an iframe, to view it upgrade your browser or enable iframe display.</iframe></div><p id="title"><a class="left" href="http://cloudstack.org"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://docs.cloudstack.org"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="provisioning-steps-overview.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="pod-add.html"><strong>Next</strong></a></li></ul><div xml:lang="en-US" class="section" id="zone-add" lang="en-US"><div class="titlepage"><div><div><h2 class="title" id="zone-add">7.2. Adding a Zone</h2></div></div></div><div class="para">
		These steps assume you have already logged in to the CloudStack UI. See <a class="xref" href="log-in.html">Section 5.1, “Log In to the UI”</a>.
	</div><div class="orderedlist"><ol><li class="listitem"><div class="para">
				(Optional) If you are going to use Swift for cloud-wide secondary storage, you need to add it before you add zones.
			</div><div class="orderedlist"><ol class="loweralpha"><li class="listitem"><div class="para">
						Log in to the CloudStack UI as administrator.
					</div></li><li class="listitem"><div class="para">
						If this is your first time visiting the UI, you will see the guided tour splash screen. Choose “Experienced user.” The Dashboard appears.
					</div></li><li class="listitem"><div class="para">
						In the left navigation bar, click Global Settings.
					</div></li><li class="listitem"><div class="para">
						In the search box, type swift.enable and click the search button.
					</div></li><li class="listitem"><div class="para">
						Click the edit button and set swift.enable to true. 
						<span class="inlinemediaobject"><img src="./images/edit-icon.png" alt="edit-icon.png: button to modify data" /></span>

					</div></li><li class="listitem"><div class="para">
						Restart the Management Server.
					</div><pre class="programlisting"># service cloud-management restart</pre></li><li class="listitem"><div class="para">
						Refresh the CloudStack UI browser tab and log back in.
					</div></li></ol></div></li><li class="listitem"><div class="para">
				In the left navigation, choose Infrastructure.
			</div></li><li class="listitem"><div class="para">
				On Zones, click View More.
			</div></li><li class="listitem"><div class="para">
				(Optional) If you are using Swift storage, click Enable Swift. Provide the following:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>URL.</strong></span> The Swift URL.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Account.</strong></span> The Swift account.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Username.</strong></span> The Swift account’s username.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Key.</strong></span> The Swift key.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				Click Add Zone. The zone creation wizard will appear.
			</div></li><li class="listitem"><div class="para">
				Choose one of the following network types:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Basic.</strong></span> For AWS-style networking. Provides a single network where each VM instance is assigned an IP directly from the network. Guest isolation can be provided through layer-3 means such as security groups (IP address source filtering).
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Advanced.</strong></span> For more sophisticated network topologies. This network model provides the most flexibility in defining guest networks and providing custom network offerings such as firewall, VPN, or load balancer support.
					</div></li></ul></div><div class="para">
				For more information about the network types, see Network Setup.
			</div></li><li class="listitem"><div class="para">
				The rest of the steps differ depending on whether you chose Basic or Advanced. Continue with the steps that apply to you:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<a class="xref" href="zone-add.html#basic-zone-configuration">Section 7.2.1, “Basic Zone Configuration”</a>
					</div></li><li class="listitem"><div class="para">
						<a class="xref" href="zone-add.html#advanced-zone-configuration">Section 7.2.2, “Advanced Zone Configuration”</a>
					</div></li></ul></div></li></ol></div><div xml:lang="en-US" class="section" id="basic-zone-configuration" lang="en-US"><div class="titlepage"><div><div><h3 class="title" id="basic-zone-configuration">7.2.1. Basic Zone Configuration</h3></div></div></div><div class="orderedlist"><ol><li class="listitem"><div class="para">
				After you select Basic in the Add Zone wizard and click Next, you will be asked to enter the following details. Then click Next.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Name.</strong></span> A name for the zone.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>DNS 1 and 2.</strong></span> These are DNS servers for use by guest VMs in the zone. These DNS servers will be accessed via the public network you will add later. The public IP addresses for the zone must have a route to the DNS server named here.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Internal DNS 1 and Internal DNS 2.</strong></span> These are DNS servers for use by system VMs in the zone (these are VMs used by CloudStack itself, such as virtual routers, console proxies, and Secondary Storage VMs.) These DNS servers will be accessed via the management traffic network interface of the System VMs. The private IP address you provide for the pods must have a route to the internal DNS server named here.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Hypervisor.</strong></span> (Introduced in version 3.0.1) Choose the hypervisor for the first cluster in the zone. You can add clusters with different hypervisors later, after you finish adding the zone.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Network Offering.</strong></span> Your choice here determines what network services will be available on the network for guest VMs.
					</div><div class="informaltable"><table border="1"><colgroup><col align="left" class="c1" width="50%" /><col align="left" class="c2" width="50%" /></colgroup><thead><tr><th align="left">
										<div class="para">
											Network Offering
										</div>
									</th><th align="left">
										<div class="para">
											Description
										</div>
									</th></tr></thead><tbody><tr><td align="left">
										<div class="para">
											DefaultSharedNetworkOfferingWithSGService
										</div>
									</td><td align="left">
										<div class="para">
											If you want to enable security groups for guest traffic isolation, choose this. (See Using Security Groups to Control Traffic to VMs.)
										</div>
									</td></tr><tr><td align="left">
										<div class="para">
											DefaultSharedNetworkOffering
										</div>
									</td><td align="left">
										<div class="para">
											If you do not need security groups, choose this.
										</div>
									</td></tr><tr><td align="left">
										<div class="para">
											DefaultSharedNetscalerEIPandELBNetworkOffering
										</div>
									</td><td align="left">
										<div class="para">
											If you have installed a Citrix NetScaler appliance as part of your zone network, and you will be using its Elastic IP and Elastic Load Balancing features, choose this. With the EIP and ELB features, a basic zone with security groups enabled can offer 1:1 static NAT and load balancing.
										</div>
									</td></tr></tbody></table></div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Network Domain.</strong></span> (Optional) If you want to assign a special domain name to the guest VM network, specify the DNS suffix.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Public.</strong></span> A public zone is available to all users. A zone that is not public will be assigned to a particular domain. Only users in that domain will be allowed to create guest VMs in this zone.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				Choose which traffic types will be carried by the physical network.
			</div><div class="para">
				The traffic types are management, public, guest, and storage traffic. For more information about the types, roll over the icons to display their tool tips, or see Basic Zone Network Traffic Types. This screen starts out with some traffic types already assigned. To add more, drag and drop traffic types onto the network. You can also change the network name if desired.
			</div></li><li class="listitem"><div class="para">
				(Introduced in version 3.0.1) Assign a network traffic label to each traffic type on the physical network. These labels must match the labels you have already defined on the hypervisor host. To assign each label, click the Edit button under the traffic type icon. A popup dialog appears where you can type the label, then click OK.
			</div><div class="para">
				These traffic labels will be defined only for the hypervisor selected for the first cluster. For all other hypervisors, the labels can be configured after the zone is created.
			</div></li><li class="listitem"><div class="para">
				Click Next.
			</div></li><li class="listitem"><div class="para">
				(NetScaler only) If you chose the network offering for NetScaler, you have an additional screen to fill out. Provide the requested details to set up the NetScaler, then click Next.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>IP address.</strong></span> The NSIP (NetScaler IP) address of the NetScaler device.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Username/Password.</strong></span> The authentication credentials to access the device. CloudStack uses these credentials to access the device.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Type.</strong></span> NetScaler device type that is being added. It could be NetScaler VPX, NetScaler MPX, or NetScaler SDX. For a comparison of the types, see About Using a NetScaler Load Balancer.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Public interface.</strong></span> Interface of NetScaler that is configured to be part of the public network.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Private interface.</strong></span> Interface of NetScaler that is configured to be part of the private network.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Number of retries.</strong></span> Number of times to attempt a command on the device before considering the operation failed. Default is 2.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Capacity.</strong></span> Number of guest networks/accounts that will share this NetScaler device.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Dedicated.</strong></span> When marked as dedicated, this device will be dedicated to a single account. When Dedicated is checked, the value in the Capacity field has no significance – implicitly, its value is 1.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				(NetScaler only) Configure the IP range for public traffic. The IPs in this range will be used for the static NAT capability which you enabled by selecting the network offering for NetScaler with EIP and ELB. Enter the following details, then click Add. If desired, you can repeat this step to add more IP ranges. When done, click Next.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Gateway.</strong></span> The gateway in use for these IP addresses.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Netmask.</strong></span> The netmask associated with this IP range.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>VLAN.</strong></span> The VLAN that will be used for public traffic.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Start IP/End IP.</strong></span> A range of IP addresses that are assumed to be accessible from the Internet and will be allocated for access to guest VMs.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				In a new zone, CloudStack adds the first pod for you. You can always add more pods later. For an overview of what a pod is, see <a class="xref" href="about-pods.html">Section 2.2, “About Pods”</a>.
			</div><div class="para">
				To configure the first pod, enter the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Pod Name.</strong></span> A name for the pod.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Reserved system gateway.</strong></span> The gateway for the hosts in that pod.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Reserved system netmask.</strong></span> The network prefix that defines the pod's subnet. Use CIDR notation.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Start/End Reserved System IP.</strong></span> The IP range in the management network that CloudStack uses to manage various system VMs, such as Secondary Storage VMs, Console Proxy VMs, and DHCP. For more information, see System Reserved IP Addresses.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				Configure the network for guest traffic. Provide the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Guest gateway.</strong></span> The gateway that the guests should use.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Guest netmask.</strong></span> The netmask in use on the subnet the guests will use.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Guest start IP/End IP.</strong></span> Enter the first and last IP addresses that define a range that CloudStack can assign to guests.
					</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
								We strongly recommend the use of multiple NICs. If multiple NICs are used, they may be in a different subnet.
							</div></li><li class="listitem"><div class="para">
								If one NIC is used, these IPs should be in the same CIDR as the pod CIDR.
							</div></li></ul></div></li></ul></div></li><li class="listitem"><div class="para">
				In a new pod, CloudStack adds the first cluster for you. You can always add more clusters later. For an overview of what a cluster is, see About Clusters.
			</div><div class="para">
				To configure the first cluster, enter the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Hypervisor.</strong></span> (Version 3.0.0 only; in 3.0.1, this field is read only) Choose the type of hypervisor software that all hosts in this cluster will run. If you choose VMware, additional fields appear so you can give information about a vSphere cluster. For vSphere servers, we recommend creating the cluster of hosts in vCenter and then adding the entire cluster to CloudStack. See Add Cluster: vSphere.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Cluster name.</strong></span> Enter a name for the cluster. This can be text of your choosing and is not used by CloudStack.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				In a new cluster, CloudStack adds the first host for you. You can always add more hosts later. For an overview of what a host is, see About Hosts.
			</div><div class="note"><div class="admonition_header"><h2>Note</h2></div><div class="admonition"><div class="para">
					When you add a hypervisor host to CloudStack, the host must not have any VMs already running.
				</div></div></div><div class="para">
				Before you can configure the host, you need to install the hypervisor software on the host. You will need to know which version of the hypervisor software version is supported by CloudStack and what additional configuration is required to ensure the host will work with CloudStack. To find these installation details, see:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Citrix XenServer Installation and Configuration
					</div></li><li class="listitem"><div class="para">
						VMware vSphere Installation and Configuration
					</div></li><li class="listitem"><div class="para">
						KVM vSphere Installation and Configuration
					</div></li></ul></div><div class="para">
				To configure the first host, enter the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Host Name.</strong></span> The DNS name or IP address of the host.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Username.</strong></span> The username is root.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Password.</strong></span> This is the password for the user named above (from your XenServer or KVM install).
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Host Tags.</strong></span> (Optional) Any labels that you use to categorize hosts for ease of maintenance. For example, you can set this to the cloud's HA tag (set in the ha.tag global configuration parameter) if you want this host to be used only for VMs with the "high availability" feature enabled. For more information, see HA-Enabled Virtual Machines as well as HA for Hosts.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				In a new cluster, CloudPlatform adds the first primary storage server for you. You can always add more servers later. For an overview of what primary storage is, see About Primary Storage.
			</div><div class="para">
				To configure the first primary storage server, enter the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Name.</strong></span> The name of the storage device.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Protocol.</strong></span> For XenServer, choose either NFS, iSCSI, or PreSetup. For KVM, choose NFS, SharedMountPoint,CLVM, or RBD. For vSphere choose either VMFS (iSCSI or FiberChannel) or NFS. The remaining fields in the screen vary depending on what you choose here.
					</div></li></ul></div></li></ol></div></div><div xml:lang="en-US" class="section" id="advanced-zone-configuration" lang="en-US"><div class="titlepage"><div><div><h3 class="title" id="advanced-zone-configuration">7.2.2. Advanced Zone Configuration</h3></div></div></div><div class="orderedlist"><ol><li class="listitem"><div class="para">
				After you select Advanced in the Add Zone wizard and click Next, you will be asked to enter the following details. Then click Next.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Name.</strong></span> A name for the zone.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>DNS 1 and 2.</strong></span> These are DNS servers for use by guest VMs in the zone. These DNS servers will be accessed via the public network you will add later. The public IP addresses for the zone must have a route to the DNS server named here.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Internal DNS 1 and Internal DNS 2.</strong></span> These are DNS servers for use by system VMs in the zone(these are VMs used by CloudStack itself, such as virtual routers, console proxies,and Secondary Storage VMs.) These DNS servers will be accessed via the management traffic network interface of the System VMs. The private IP address you provide for the pods must have a route to the internal DNS server named here.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Network Domain.</strong></span> (Optional) If you want to assign a special domain name to the guest VM network, specify the DNS suffix.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Guest CIDR.</strong></span> This is the CIDR that describes the IP addresses in use in the guest virtual networks in this zone. For example, 10.1.1.0/24. As a matter of good practice you should set different CIDRs for different zones. This will make it easier to set up VPNs between networks in different zones.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Hypervisor.</strong></span> (Introduced in version 3.0.1) Choose the hypervisor for the first cluster in the zone. You can add clusters with different hypervisors later, after you finish adding the zone.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Public.</strong></span> A public zone is available to all users. A zone that is not public will be assigned to a particular domain. Only users in that domain will be allowed to create guest VMs in this zone.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				Choose which traffic types will be carried by the physical network.
			</div><div class="para">
				The traffic types are management, public, guest, and storage traffic. For more information about the types, roll over the icons to display their tool tips, or see <a class="xref" href="about-physical-networks.html#advanced-zone-network-traffic-types">Section 2.7.4, “Advanced Zone Network Traffic Types”</a>. This screen starts out with one network already configured. If you have multiple physical networks, you need to add more. Drag and drop traffic types onto a greyed-out network and it will become active. You can move the traffic icons from one network to another; for example, if the default traffic types shown for Network 1 do not match your actual setup, you can move them down. You can also change the network names if desired.
			</div></li><li class="listitem"><div class="para">
				(Introduced in version 3.0.1) Assign a network traffic label to each traffic type on each physical network. These labels must match the labels you have already defined on the hypervisor host. To assign each label, click the Edit button under the traffic type icon within each physical network. A popup dialog appears where you can type the label, then click OK.
			</div><div class="para">
				These traffic labels will be defined only for the hypervisor selected for the first cluster. For all other hypervisors, the labels can be configured after the zone is created.
			</div></li><li class="listitem"><div class="para">
				Click Next.
			</div></li><li class="listitem"><div class="para">
				Configure the IP range for public Internet traffic. Enter the following details, then click Add. If desired, you can repeat this step to add more public Internet IP ranges. When done, click Next.
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Gateway.</strong></span> The gateway in use for these IP addresses.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Netmask.</strong></span> The netmask associated with this IP range.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>VLAN.</strong></span> The VLAN that will be used for public traffic.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Start IP/End IP.</strong></span> A range of IP addresses that are assumed to be accessible from the Internet and will be allocated for access to guest networks.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				In a new zone, CloudStack adds the first pod for you. You can always add more pods later. For an overview of what a pod is, see <a class="xref" href="about-pods.html">Section 2.2, “About Pods”</a>.
			</div><div class="para">
				To configure the first pod, enter the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Pod Name.</strong></span> A name for the pod.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Reserved system gateway.</strong></span> The gateway for the hosts in that pod.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Reserved system netmask.</strong></span> The network prefix that defines the pod's subnet. Use CIDR notation.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Start/End Reserved System IP.</strong></span> The IP range in the management network that CloudStack uses to manage various system VMs, such as Secondary Storage VMs, Console Proxy VMs, and DHCP. For more information, see <a class="xref" href="about-physical-networks.html#system-reserved-ip-addresses">Section 2.7.7, “System Reserved IP Addresses”</a>.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				Specify a range of VLAN IDs to carry guest traffic for each physical network (see VLAN Allocation Example ), then click Next.
			</div></li><li class="listitem"><div class="para">
				In a new pod, CloudStack adds the first cluster for you. You can always add more clusters later. For an overview of what a cluster is, see <a class="xref" href="about-clusters.html">Section 2.3, “About Clusters”</a>.
			</div><div class="para">
				To configure the first cluster, enter the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Hypervisor.</strong></span> (Version 3.0.0 only; in 3.0.1, this field is read only) Choose the type of hypervisor software that all hosts in this cluster will run. If you choose VMware, additional fields appear so you can give information about a vSphere cluster. For vSphere servers, we recommend creating the cluster of hosts in vCenter and then adding the entire cluster to CloudStack. See Add Cluster: vSphere .
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Cluster name.</strong></span> Enter a name for the cluster. This can be text of your choosing and is not used by CloudStack.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				In a new cluster, CloudStack adds the first host for you. You can always add more hosts later. For an overview of what a host is, see <a class="xref" href="about-hosts.html">Section 2.4, “About Hosts”</a>.
			</div><div class="note"><div class="admonition_header"><h2>Note</h2></div><div class="admonition"><div class="para">
					When you deploy CloudStack, the hypervisor host must not have any VMs already running.
				</div></div></div><div class="para">
				Before you can configure the host, you need to install the hypervisor software on the host. You will need to know which version of the hypervisor software version is supported by CloudStack and what additional configuration is required to ensure the host will work with CloudStack. To find these installation details, see:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						Citrix XenServer Installation for CloudStack
					</div></li><li class="listitem"><div class="para">
						VMware vSphere Installation and Configuration
					</div></li><li class="listitem"><div class="para">
						KVM Installation and Configuration
					</div></li></ul></div><div class="para">
				To configure the first host, enter the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Host Name.</strong></span> The DNS name or IP address of the host.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Username.</strong></span> Usually root.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Password.</strong></span> This is the password for the user named above (from your XenServer or KVM install).
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Host Tags.</strong></span> (Optional) Any labels that you use to categorize hosts for ease of maintenance. For example, you can set to the cloud's HA tag (set in the ha.tag global configuration parameter) if you want this host to be used only for VMs with the "high availability" feature enabled. For more information, see HA-Enabled Virtual Machines as well as HA for Hosts, both in the Administration Guide.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				In a new cluster, CloudStack adds the first primary storage server for you. You can always add more servers later. For an overview of what primary storage is, see <a class="xref" href="about-primary-storage.html">Section 2.5, “About Primary Storage”</a>.
			</div><div class="para">
				To configure the first primary storage server, enter the following, then click Next:
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Name.</strong></span> The name of the storage device.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Protocol.</strong></span> For XenServer, choose either NFS, iSCSI, or PreSetup. For KVM, choose NFS, SharedMountPoint, CLVM, and RBD. For vSphere choose either VMFS (iSCSI or FiberChannel) or NFS. The remaining fields in the screen vary depending on what you choose here.
					</div><div class="informaltable"><table border="1"><colgroup><col align="left" class="c1" width="50%" /><col align="left" class="c2" width="50%" /></colgroup><tbody><tr><td align="left">
										<div class="para">
											NFS
										</div>
									</td><td align="left">
										<div class="itemizedlist"><ul><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Server.</strong></span> The IP address or DNS name of the storage device.
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Path.</strong></span> The exported path from the server.
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Tags (optional).</strong></span> The comma-separated list of tags for this storage device. It should be an equivalent set or superset of the tags on your disk offerings.
												</div></li></ul></div>
										 <div class="para">
											The tag sets on primary storage across clusters in a Zone must be identical. For example, if cluster A provides primary storage that has tags T1 and T2, all other clusters in the Zone must also provide primary storage that has tags T1 and T2.
										</div>

									</td></tr><tr><td align="left">
										<div class="para">
											iSCSI
										</div>
									</td><td align="left">
										<div class="itemizedlist"><ul><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Server.</strong></span> The IP address or DNS name of the storage device.
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Target IQN.</strong></span> The IQN of the target. For example, iqn.1986-03.com.sun:02:01ec9bb549-1271378984.
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Lun.</strong></span> The LUN number. For example, 3.
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Tags (optional).</strong></span> The comma-separated list of tags for this storage device. It should be an equivalent set or superset of the tags on your disk offerings.
												</div></li></ul></div>
										 <div class="para">
											The tag sets on primary storage across clusters in a Zone must be identical. For example, if cluster A provides primary storage that has tags T1 and T2, all other clusters in the Zone must also provide primary storage that has tags T1 and T2.
										</div>

									</td></tr><tr><td align="left">
										<div class="para">
											preSetup
										</div>
									</td><td align="left">
										<div class="itemizedlist"><ul><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Server.</strong></span> The IP address or DNS name of the storage device.
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>SR Name-Label.</strong></span> Enter the name-label of the SR that has been set up outside CloudStack.
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Tags (optional).</strong></span> The comma-separated list of tags for this storage device. It should be an equivalent set or superset of the tags on your disk offerings.
												</div></li></ul></div>
										 <div class="para">
											The tag sets on primary storage across clusters in a Zone must be identical. For example, if cluster A provides primary storage that has tags T1 and T2, all other clusters in the Zone must also provide primary storage that has tags T1 and T2.
										</div>

									</td></tr><tr><td align="left">
										<div class="para">
											SharedMountPoint
										</div>
									</td><td align="left">
										<div class="itemizedlist"><ul><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Path.</strong></span> The path on each host that is where this primary storage is mounted. For example, "/mnt/primary".
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Tags (optional).</strong></span> The comma-separated list of tags for this storage device. It should be an equivalent set or superset of the tags on your disk offerings.
												</div></li></ul></div>
										 <div class="para">
											The tag sets on primary storage across clusters in a Zone must be identical. For example, if cluster A provides primary storage that has tags T1 and T2, all other clusters in the Zone must also provide primary storage that has tags T1 and T2.
										</div>

									</td></tr><tr><td align="left">
										<div class="para">
											VMFS
										</div>
									</td><td align="left">
										<div class="itemizedlist"><ul><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Server.</strong></span> The IP address or DNS name of the vCenter server.
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Path.</strong></span> A combination of the datacenter name and the datastore name. The format is "/" datacenter name "/" datastore name. For example, "/cloud.dc.VM/cluster1datastore".
												</div></li><li class="listitem"><div class="para">
													<span class="bold bold"><strong>Tags (optional).</strong></span> The comma-separated list of tags for this storage device. It should be an equivalent set or superset of the tags on your disk offerings.
												</div></li></ul></div>
										 <div class="para">
											The tag sets on primary storage across clusters in a Zone must be identical. For example, if cluster A provides primary storage that has tags T1 and T2, all other clusters in the Zone must also provide primary storage that has tags T1 and T2.
										</div>

									</td></tr></tbody></table></div></li></ul></div></li><li class="listitem"><div class="para">
				In a new zone, CloudStack adds the first secondary storage server for you. For an overview of what secondary storage is, see <a class="xref" href="about-secondary-storage.html">Section 2.6, “About Secondary Storage”</a>.
			</div><div class="para">
				Before you can fill out this screen, you need to prepare the secondary storage by setting up NFS shares and installing the latest CloudStack System VM template. See Adding Secondary Storage :
			</div><div class="itemizedlist"><ul><li class="listitem"><div class="para">
						<span class="bold bold"><strong>NFS Server.</strong></span> The IP address of the server.
					</div></li><li class="listitem"><div class="para">
						<span class="bold bold"><strong>Path.</strong></span> The exported path from the server.
					</div></li></ul></div></li><li class="listitem"><div class="para">
				Click Launch.
			</div></li></ol></div></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="provisioning-steps-overview.html"><strong>Prev</strong>7.1. Overview of Provisioning Steps</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="pod-add.html"><strong>Next</strong>7.3. Adding a Pod</a></li></ul></body></html>
