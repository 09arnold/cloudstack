#Licensed to the Apache Software Foundation (ASF) under one
#or more contributor license agreements.  See the NOTICE file
#distributed with this work for additional information
#regarding copyright ownership.  The ASF licenses this file
#to you under the Apache License, Version 2.0 (the
#"License"); you may not use this file except in compliance
#with the License.  You may obtain a copy of the License at
#http://www.apache.org/licenses/LICENSE-2.0
#Unless required by applicable law or agreed to in writing,
#software distributed under the License is distributed on an
#"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
#KIND, either express or implied.  See the License for the
#specific language governing permissions and limitations
#under the License.
# AUTHOR <EMAIL@ADDRESS>, YEAR.
# 
# Translators:
# Isaac Chiang <isaacchiang@gmail.com>, 2013.
msgid ""
msgstr ""
"Project-Id-Version: Apache CloudStack Runbook\n"
"Report-Msgid-Bugs-To: http://bugs.cloudstack.org/\n"
"POT-Creation-Date: 2013-02-18T22:47:34\n"
"PO-Revision-Date: 2013-03-05 13:48+0000\n"
"Last-Translator: isaac.chiang <isaacchiang@gmail.com>\n"
"Language-Team: None\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Language: zh_TW\n"
"Plural-Forms: nplurals=1; plural=0;\n"

#. Tag: title
#, no-c-format
msgid "Environment"
msgstr "環境設定"

#. Tag: para
#, no-c-format
msgid ""
"Before you begin, you need to prepare the environment before you install "
"CloudStack. We will go over the steps to prepare now."
msgstr "以下我們將詳細描述安裝Apache CloudStack前的準備工作"

#. Tag: title
#, no-c-format
msgid "Operating System"
msgstr "作業系統 "

#. Tag: para
#, no-c-format
msgid ""
"Using the CentOS 6.3 x86_64 minimal install ISO, you'll need to install "
"CentOS on your hardware. The defaults will generally be acceptable for this "
"installation."
msgstr "使用CentOS 6.3 x86_64 minimal的安裝ISO檔，於實體主機上安裝CentOS，安裝過程中採用預設選項即可。"

#. Tag: para
#, no-c-format
msgid ""
"Once this installation is complete, you'll want to connect to your freshly "
"installed machine via SSH as the root user. Note that you should not allow "
"root logins in a production environment, so be sure to turn off remote "
"logins once you have finished the installation and configuration."
msgstr "安裝完成後，您可能會想以root身分採用SSH的方式連接到剛安裝好基礎作業系統的主機。注意，請勿於正式運行的生產環境中，使用root身分登入，也務必於安裝及配置過後關閉SSH遠端登入服務。"

#. Tag: title
#, no-c-format
msgid "Configuring the network"
msgstr "設定網路"

#. Tag: para
#, no-c-format
msgid ""
"By default the network will not come up on your hardware and you will need "
"to configure it to work in your environment. Since we specified that there "
"will be no DHCP server in this environment we will be manually configuring "
"your network interface. We will assume, for the purposes of this exercise, "
"that eth0 is the only network interface that will be connected and used."
msgstr "一般情況下，新安裝的主機尚未啟用網路，您必須根據實際環境進行網路設定。由於網路中不包含DHCP伺服器，您需要手動設定網路介面，為了達到快速安裝的目標，因此，我們假設新安裝的主機上只包含了一張eth0的網路介面。"

#. Tag: para
#, no-c-format
msgid ""
"Connecting via the console you should login as root. Check the file "
"<filename>/etc/sysconfig/network-scripts/ifcfg-eth0</filename>, it will look"
" like this by default:"
msgstr "以root身分登入主機，檢查設定檔<filename>/etc/sysconfig/network-scripts/ifcfg-eth0</filename>，預設的情況下，其內容如下所示："

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"DEVICE=\"eth0\"\n"
"HWADDR=\"52:54:00:B9:A6:C0\"\n"
"NM_CONTROLLED=\"yes\"\n"
"ONBOOT=\"no\"\n"
"        "
msgstr "\nDEVICE=\"eth0\"\nHWADDR=\"52:54:00:B9:A6:C0\"\nNM_CONTROLLED=\"yes\"\nONBOOT=\"no\""

#. Tag: para
#, no-c-format
msgid ""
"Unfortunately, this configuration will not permit you to connect to the "
"network, and is also unsuitable for our purposes with CloudStack. We want to"
" configure that file so that it specifies the IP address, netmask, etc., as "
"shown in the following example:"
msgstr "根據以上的預設設定，您將無法連接到網路，對於CloudStack也同樣不適合;您需修改配置文件，指定IP位址、網路遮罩...等，如下例所示："

#. Tag: title
#, no-c-format
msgid "Hardware Addresses"
msgstr "實體位址"

#. Tag: para
#, no-c-format
msgid ""
"You should not use the hardware address (aka MAC address) from our example "
"for your configuration. It is network interface specific, so you should keep"
" the address already provided in the HWADDR directive."
msgstr "請勿複製網路配置範例中的MAC位址，每張網路卡具有獨特的MAC位址，保留您實際配置文件中的HWADDR項目中已存在的MAC位址。"

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"DEVICE=eth0\n"
"HWADDR=52:54:00:B9:A6:C0\n"
"NM_CONTROLLED=no\n"
"ONBOOT=yes\n"
"BOOTPROTO=none\n"
"IPADDR=172.16.10.2\n"
"NETMASK=255.255.255.0\n"
"GATEWAY=172.16.10.1\n"
"DNS1=8.8.8.8\n"
"DNS2=8.8.4.4\n"
"      "
msgstr "\nDEVICE=eth0\nHWADDR=52:54:00:B9:A6:C0\nNM_CONTROLLED=no\nONBOOT=yes BOOTPROTO=none\nIPADDR=172.16.10.2\nNETMASK=255.255.255.0\nGATEWAY=172.16.10.1\nDNS1=8.8.8.8\nDNS2=8.8.4.4"

#. Tag: title
#, no-c-format
msgid "IP Addressing"
msgstr "IP位址"

#. Tag: para
#, no-c-format
msgid ""
"Throughout this document we are assuming that you will have a /24 network "
"for your CloudStack implementation. This can be any RFC 1918 network. "
"However, we are assuming that you will match the machine address that we are"
" using. Thus we may use "
"<userinput><replaceable>172.16.10</replaceable>.2</userinput> and because "
"you might be using the 192.168.55.0/24 network you would use "
"<userinput><replaceable>192.168.55</replaceable>.2</userinput>"
msgstr "本文件假設您提供一個Class C之網路供CloudStack使用；該網路可以試任何RFC 1918相容的網路，然而我們假設您使用了IP位址的最後一段與手冊中使用的鄉符合；例如手冊中使用<userinput><replaceable>172.16.10</replaceable>.2</userinput>，如果您使用192.168.55.0/24，請使用<userinput><replaceable>192.168.55</replaceable>.2</userinput>"

#. Tag: para
#, no-c-format
msgid ""
"Now that we have the configuration files properly set up, we need to run a "
"few commands to start up the network"
msgstr "設定檔完成之後，需要執行命令啟動網路"

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>chkconfig</command> network "
"on</userinput>"
msgstr "<prompt># </prompt><userinput><command>chkconfig</command> network on</userinput>"

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>service</command> network "
"start</userinput>"
msgstr "<prompt># </prompt><userinput><command>service</command> network start</userinput>"

#. Tag: title
#, no-c-format
msgid "Hostname"
msgstr "主機名稱"

#. Tag: para
#, no-c-format
msgid ""
"Cloudstack requires that the hostname be properly set. If you used the "
"default options in the installation, then your hostname is currently set to "
"localhost.localdomain. To test this we will run:"
msgstr "CloudStack要求設定正確的主機名稱，如果安裝作業系統時您採用的預設的選項，主機名稱應該為localhost.localdomain，輸入以下命令可以逕行驗證："

#. Tag: screen
#, no-c-format
msgid "<prompt># </prompt><userinput>hostname --fqdn</userinput>"
msgstr "<prompt># </prompt><userinput>hostname --fqdn</userinput>"

#. Tag: para
#, no-c-format
msgid "At this point it will likely return:"
msgstr "此時會回傳："

#. Tag: screen
#, no-c-format
msgid "localhost"
msgstr "localhost"

#. Tag: para
#, no-c-format
msgid ""
"To rectify this situation - we'll set the hostname by editing the "
"<filename>/etc/hosts</filename> file so that it follows a similar format to "
"this example:"
msgstr "為了讓CloudStack能正確運行，需重新設定主機名稱，編輯<filename>/etc/hosts</filename>文件，更改範例如下："

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4\n"
"172.16.10.2 srvr1.cloud.priv\n"
msgstr "\n127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4 \n172.16.10.2 srvr1.cloud.priv\n"

#. Tag: para
#, no-c-format
msgid ""
"After you've modified that file, go ahead and restart the network using:"
msgstr "更改設定檔後，重新啟動網路服務："

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>service</command> network "
"restart</userinput>"
msgstr "<prompt># </prompt><userinput><command>service</command> network restart</userinput>"

#. Tag: para
#, no-c-format
msgid ""
"Now recheck with the <command>hostname --fqdn</command> command and ensure "
"that it returns a FQDN response"
msgstr "使用<command>hostname --fqdn</command>命令重新檢查主機名稱，請確認此時回傳了一個FQDN的格式結果"

#. Tag: title
#, no-c-format
msgid "SELinux"
msgstr "SELinux"

#. Tag: para
#, no-c-format
msgid ""
"At the moment, for CloudStack to work properly SELinux must be set to "
"permissive. We want to both configure this for future boots and modify it in"
" the current running system."
msgstr "目前版本的CloudStack需要設定SELinux為permissive才能正常運行，您需要修改系統設定，並確認設定於主機重新啟動後仍然有效"

#. Tag: para
#, no-c-format
msgid ""
"To configure SELinux to be permissive in the running system we need to run "
"the following command:"
msgstr "將SELinux設定為permissive，需使用以下指令："

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>setenforce</command> 0</userinput>"
msgstr "<prompt># </prompt><userinput><command>setenforce</command>0</userinput>"

#. Tag: para
#, no-c-format
msgid ""
"To ensure that it remains in that state we need to configure the file "
"<filename>/etc/selinux/config</filename> to reflect the permissive state, as"
" shown in this example:"
msgstr "為了確保此設定永久有效，需修改設定檔<filename>/etc/selinux/config</filename>，設定為permissive，如下例所示："

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"\n"
"# This file controls the state of SELinux on the system.\n"
"# SELINUX= can take one of these three values:\n"
"#     enforcing - SELinux security policy is enforced.\n"
"#     permissive - SELinux prints warnings instead of enforcing.\n"
"#     disabled - No SELinux policy is loaded.\n"
"SELINUX=permissive\n"
"# SELINUXTYPE= can take one of these two values:\n"
"#     targeted - Targeted processes are protected,\n"
"#     mls - Multi Level Security protection.\n"
"SELINUXTYPE=targeted\n"
"      "
msgstr "\n# This file controls the state of SELinux on the system.\n# SELINUX= can take one of these three values:\n# enforcing - SELinux security policy is enforced.\n# permissive - SELinux prints warnings instead of enforcing.\n# disabled - No SELinux policy is loaded.\nSELINUX=permissive\n# SELINUXTYPE= can take one of these two values:\n# targeted - Targeted processes are protected,\n# mls - Multi Level Security protection.\nSELINUXTYPE=targeted"

#. Tag: title
#, no-c-format
msgid "NTP"
msgstr "NTP"

#. Tag: para
#, no-c-format
msgid ""
"NTP configuration is a necessity for keeping all of the clocks in your cloud"
" servers in sync. However, NTP is not installed by default. So we'll install"
" and and configure NTP at this stage. Installation is accomplished as "
"follows:"
msgstr "為了同步雲端平台系統中個主機的時間，需要設定NTP；NTP服務預設是沒有安裝的，因此，必須先安裝NTP後逕行設定，採用以下指令安裝NTP："

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>yum</command> -y install "
"ntp</userinput>"
msgstr "<prompt># </prompt><userinput><command>yum</command> -y install ntp</userinput>"

#. Tag: para
#, no-c-format
msgid ""
"The actual default configuration is fine for our purposes, so we merely need"
" to enable it and set it to start on boot as follows:"
msgstr "使用預設的設定檔即可滿足本文件需求，然後啟用NTP服務並設定為開機後自動執行，如下所示："

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>chkconfig</command> ntpd "
"on</userinput>"
msgstr "<prompt># </prompt><userinput><command>chkconfig</command> ntpd on</userinput>"

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>service</command> ntpd "
"start</userinput>"
msgstr "<prompt># </prompt><userinput><command>service</command> ntpd start</userinput>"

#. Tag: title
#, no-c-format
msgid "Configuring the CloudStack Package Repository"
msgstr "設定CloudStack的套件庫"

#. Tag: para
#, no-c-format
msgid ""
"We need to configure the machine to use a CloudStack package repository."
msgstr "我們必須設定主機使用CloudStack的套件庫"

#. Tag: title
#, no-c-format
msgid ""
"The below repository is not an official Apache CloudStack project repository"
msgstr "以下所列的套件庫並非由Apache官方所維護的專案套件庫"

#. Tag: para
#, no-c-format
msgid ""
"The Apache CloudStack official releases are source code. As such there are "
"no 'official' binaries available. The full installation guide describes how "
"to take the source release and generate RPMs and and yum repository. This "
"guide attempts to keep things as simple as possible, and thus we are using "
"one of the community-provided yum repositories."
msgstr "官方所發佈的Apache CloudStack為其原始程式碼，Apache官方並不提供已編譯完的CloudStack執行程式。完整的安裝指引將會為您描述如何將程式原始碼包裝成RPM檔以及yum的套件庫。此安裝指引相當簡明扼要，因為採用社群提供的yum套件庫，會是一個不錯的選擇"

#. Tag: para
#, no-c-format
msgid ""
"To add the CloudStack repository, create "
"<filename>/etc/yum.repos.d/cloudstack.repo</filename> and insert the "
"following information."
msgstr "新增一個CloudStack套件庫，請建立<filename>/etc/yum.repos.d/cloudstack.repo</filename>檔案，並加入以下內容"

#. Tag: programlisting
#, no-c-format
msgid ""
"\n"
"[cloudstack]\n"
"name=cloudstack\n"
"baseurl=http://cloudstack.apt-get.eu/rhel/4.0/\n"
"enabled=1\n"
"gpgcheck=0\n"
"      "
msgstr "\n[cloudstack]\nname=cloudstack\nbaseurl=http://cloudstack.apt-get.eu/rhel/4.0/\nenabled=1\ngpgcheck=0\n      "

#. Tag: title
#, no-c-format
msgid "NFS"
msgstr "NFS"

#. Tag: para
#, no-c-format
msgid ""
"Our configuration is going to use NFS for both primary and secondary "
"storage. We are going to go ahead and setup two NFS shares for those "
"purposes. We'll start out by installing <application>nfs-"
"utils</application>."
msgstr "本文件描述的佈署環境使用NFS做為主要儲存裝置及次要儲存裝置，需要配置兩個NFS的掛載點，在此之前請先安裝<application>nfs-utils</application>"

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>yum</command> install nfs-"
"utils</userinput>"
msgstr "<prompt># </prompt><userinput><command>yum</command> install nfs-utils</userinput>"

#. Tag: para
#, no-c-format
msgid ""
"We now need to configure NFS to serve up two different shares. This is "
"handled comparatively easily in the <filename>/etc/exports</filename> file. "
"You should ensure that it has the following content:"
msgstr "接下來需設定NFS提供兩個不同的掛載點，請編輯<filename>/etc/exports</filename>設定檔，並確保其內容如下所示："

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"/secondary *(rw,async,no_root_squash)\n"
"/primary   *(rw,async,no_root_squash)\n"
"    "
msgstr "\n/primary *(rw,async,no_root_squash)\n/secondary *(rw,async,no_root_squash)"

#. Tag: para
#, no-c-format
msgid ""
"You will note that we specified two directories that don't exist (yet) on "
"the system. We'll go ahead and create those directories and set permissions "
"appropriately on them with the following commands:"
msgstr "您會發現到，上述設定檔中設定了兩個不存在於檔案系統中的目錄，因此，我們必須建立這些目錄並給予正確的權限，指令如下所示："

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<prompt># </prompt><userinput><command>mkdir</command> /primary</userinput>\n"
"<prompt># </prompt><userinput><command>mkdir</command> /secondary</userinput>\n"
"    "
msgstr "\n<prompt># </prompt><userinput><command>mkdir</command> /primary</userinput>\n<prompt># </prompt><userinput><command>mkdir</command> /secondary</userinput>\n    "

#. Tag: para
#, no-c-format
msgid ""
"CentOS 6.x releases use NFSv4 by default. NFSv4 requires that domain setting"
" matches on all clients. In our case, the domain is cloud.priv, so ensure "
"that the domain setting in <filename>/etc/idmapd.conf</filename> is "
"uncommented and set as follows:"
msgstr "CentOS 6.x版本預設使用NFSv4，NFSv4要求客戶端的設定相符的域名，本文以cloud.priv為例，請確認文件<filename>/etc/idmapd.conf</filename>中的域名設定沒有被註解，並設定為以下內容："

#. Tag: screen
#, no-c-format
msgid "Domain = cloud.priv"
msgstr "Domain = cloud.priv"

#. Tag: para
#, no-c-format
msgid ""
"Now you'll need uncomment the configuration values in the file "
"<filename>/etc/sysconfig/nfs</filename>"
msgstr "現在，您必須取消於<filename>/etc/sysconfig/nfs</filename>設定檔中的註解："

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"LOCKD_TCPPORT=32803\n"
"LOCKD_UDPPORT=32769\n"
"MOUNTD_PORT=892\n"
"RQUOTAD_PORT=875\n"
"STATD_PORT=662\n"
"STATD_OUTGOING_PORT=2020\n"
"    "
msgstr "\nLOCKD_TCPPORT=32803\nLOCKD_UDPPORT=32769\nMOUNTD_PORT=892\nRQUOTAD_PORT=875\nSTATD_PORT=662\nSTATD_OUTGOING_PORT=2020"

#. Tag: para
#, no-c-format
msgid ""
"Now we need to configure the firewall to permit incoming NFS connections. "
"Edit the file <filename>/etc/sysconfig/iptables</filename>"
msgstr "接下來，需要設定防火牆，允許NFS連結，編輯設定檔<filename>/etc/sysconfig/iptables</filename>如下："

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 111 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 111 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 2049 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 32803 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 32769 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 892 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 892 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 875 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 875 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 662 -j ACCEPT\n"
"-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 662 -j ACCEPT\n"
"    "
msgstr "\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 111 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 111 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 2049 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 32803 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 32769 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 892 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 892 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 875 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 875 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p tcp --dport 662 -j ACCEPT\n-A INPUT -s 172.16.10.0/24 -m state --state NEW -p udp --dport 662 -j ACCEPT\n    "

#. Tag: para
#, no-c-format
msgid "Now you can restart the iptables service with the following command:"
msgstr "透過以下指令重新啟動iptables服務："

#. Tag: screen
#, no-c-format
msgid ""
"<prompt># </prompt><userinput><command>service</command> iptables "
"restart</userinput>"
msgstr "<prompt># </prompt><userinput><command>service</command> iptables restart</userinput>"

#. Tag: para
#, no-c-format
msgid ""
"We now need to configure nfs service to start on boot and actually start it "
"on the host by executing the following commands:"
msgstr "設定NSF服務於開機後自動啟用："

#. Tag: screen
#, no-c-format
msgid ""
"\n"
"<prompt># </prompt><userinput><command>service</command> rpcbind start</userinput>\n"
"<prompt># </prompt><userinput><command>service</command> nfs start</userinput>\n"
"<prompt># </prompt><userinput><command>chkconfig</command> rpcbind on</userinput>\n"
"<prompt># </prompt><userinput><command>chkconfig</command> nfs on</userinput>\n"
"    "
msgstr "\n<prompt># </prompt><userinput><command>service</command> rpcbind start</userinput>\n<prompt># </prompt><userinput><command>service</command> nfs start</userinput>\n<prompt># </prompt><userinput><command>chkconfig</command> rpcbind on</userinput>\n<prompt># </prompt><userinput><command>chkconfig</command> nfs on</userinput>\n    "
