<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>10.3. Enabling the AWS API Compatible Interface</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.8" /><meta name="package" content="Apache_CloudStack-Installation_Guide-4.0.0-incubating-en-US-1-" /><link rel="home" href="index.html" title="CloudStack Installation Guide" /><link rel="up" href="aws-interface-compatibility.html" title="Chapter 10. Amazon Web Service Interface Compatibility" /><link rel="prev" href="aws-ec2-requirements.html" title="10.2. System Requirements" /><link rel="next" href="aws-ec2-user-setup.html" title="10.4. AWS API User Setup Steps" /></head><body><p id="title"><a class="left" href="http://cloudstack.org"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://docs.cloudstack.org"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="aws-ec2-requirements.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="aws-ec2-user-setup.html"><strong>Next</strong></a></li></ul><div xml:lang="en-US" class="section" id="aws-ec2-configuration" lang="en-US"><div class="titlepage"><div><div><h2 class="title" id="aws-ec2-configuration">10.3. Enabling the AWS API Compatible Interface</h2></div></div></div><div class="para">
		The software that provides AWS API compatibility is installed along with CloudPlatform. However, you must enable the feature and perform some setup steps.
	</div><div class="orderedlist"><ol><li class="listitem"><div class="para">
				Set the global configuration parameter enable.ec2.api to true. See <a class="xref" href="global-config.html">Chapter 7, <em>Setting Global Configuration Parameters</em></a>.
			</div></li><li class="listitem"><div class="para">
				Create a set of CloudStack service offerings with names that match the Amazon service offerings. You can do this through the CloudStack UI as described in the Administration Guide.
			</div><div class="warning"><div class="admonition_header"><h2>Warning</h2></div><div class="admonition"><div class="para">
					Be sure you have included the Amazon default service offering, m1.small.
				</div></div></div></li><li class="listitem"><div class="para">
				If you did not already do so when you set the configuration parameter in step 1, restart the Management Server.
			</div><pre class="programlisting"># service cloud-management restart</pre></li><li class="listitem"><div class="para">
				(Optional) The AWS API listens for requests on port 7080. If you prefer AWS API to listen on another port, you can change it as follows:
			</div><div class="orderedlist"><ol class="loweralpha"><li class="listitem"><div class="para">
						Edit the files /etc/cloud/management/server.xml, /etc/cloud/management/server-nonssl.xml, and /etc/cloud/management/server-ssl.xml.
					</div></li><li class="listitem"><div class="para">
						In each file, find the tag &lt;Service name="Catalina7080"&gt;. Under this tag, locate &lt;Connector executor="tomcatThreadPool-internal" port= ....&lt;.
					</div></li><li class="listitem"><div class="para">
						Change the port to whatever port you want to use, then save the files.
					</div></li><li class="listitem"><div class="para">
						Restart the Management Server.
					</div><div class="note"><div class="admonition_header"><h2>Note</h2></div><div class="admonition"><div class="para">
							If you re-install CloudStack, you will have to make these changes again.
						</div></div></div></li></ol></div></li></ol></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="aws-ec2-requirements.html"><strong>Prev</strong>10.2. System Requirements</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="aws-ec2-user-setup.html"><strong>Next</strong>10.4. AWS API User Setup Steps</a></li></ul></body></html>
