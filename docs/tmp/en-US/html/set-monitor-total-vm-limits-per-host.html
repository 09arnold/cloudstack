<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>21.4. Set and Monitor Total VM Limits per Host</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.8" /><meta name="package" content="Apache_CloudStack-Admin_Guide-4.0.0-incubating-en-US-1-" /><link rel="home" href="index.html" title="CloudStack Administrator's Guide" /><link rel="up" href="tuning.html" title="Chapter 21. Tuning" /><link rel="prev" href="set-database-buffer-pool-size.html" title="21.3. Set Database Buffer Pool Size" /><link rel="next" href="configure-xenserver-dom0-memory.html" title="21.5. Configure XenServer dom0 Memory" /></head><body><p id="title"><a class="left" href="http://cloudstack.org"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://docs.cloudstack.org"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="set-database-buffer-pool-size.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="configure-xenserver-dom0-memory.html"><strong>Next</strong></a></li></ul><div xml:lang="en-US" class="section" id="set-monitor-total-vm-limits-per-host" lang="en-US"><div class="titlepage"><div><div><h2 class="title" id="set-monitor-total-vm-limits-per-host">21.4. Set and Monitor Total VM Limits per Host</h2></div></div></div><div class="para">
		The CloudStack administrator should monitor the total number of VM instances in each cluster, and disable allocation to the cluster if the total is approaching the maximum that the hypervisor can handle. Be sure to leave a safety margin to allow for the possibility of one or more hosts failing, which would increase the VM load on the other hosts as the VMs are automatically redeployed. Consult the documentation for your chosen hypervisor to find the maximum permitted number of VMs per host, then use CloudStack global configuration settings to set this as the default limit. Monitor the VM activity in each cluster at all times. Keep the total number of VMs below a safe level that allows for the occasional host failure. For example, if there are N hosts in the cluster, and you want to allow for one host in the cluster to be down at any given time, the total number of VM instances you can permit in the cluster is at most (N-1) * (per-host-limit). Once a cluster reaches this number of VMs, use the CloudStack UI to disable allocation of more VMs to the cluster.
	</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="set-database-buffer-pool-size.html"><strong>Prev</strong>21.3. Set Database Buffer Pool Size</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="configure-xenserver-dom0-memory.html"><strong>Next</strong>21.5. Configure XenServer dom0 Memory</a></li></ul></body></html>
