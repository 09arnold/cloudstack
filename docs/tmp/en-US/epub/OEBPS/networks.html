<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 15. Managing Networks and Traffic</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.8" /><meta name="package" content="" /></head><body><div class="chapter" id="networks"><div class="titlepage"><div><div><h1 class="title">Chapter 15. Managing Networks and Traffic</h1></div></div></div><div class="para">
		In a CloudStack, guest VMs can communicate with each other using shared infrastructure with the security and user perception that the guests have a private LAN. The CloudStack virtual router is the main component providing networking features for guest traffic.
	</div><div class="section" id="guest-traffic"><div class="titlepage"><div><div><h1 class="title" id="guest-traffic">15.1. Guest Traffic</h1></div></div></div><div class="para">
		A network can carry guest traffic only between VMs within one zone. Virtual machines in different zones cannot communicate with each other using their IP addresses; they must communicate with each other by routing through a public IP address.
	</div><div class="para">
		Figure 1 illustrates a typical guest traffic setup:
	</div><div class="mediaobject"><img src="./images/basic-deployment.png" alt="guesttraffic.png: Depicts a guest traffic setup" /></div><div class="para">
		The Management Server automatically creates a virtual router for each network. A virtual router is a special virtual machine that runs on the hosts. Each virtual router has three network interfaces. Its eth0 interface serves as the gateway for the guest traffic and has the IP address of 10.1.1.1. Its eth1 interface is used by the system to configure the virtual router. Its eth2 interface is assigned a public IP address for public traffic.
	</div><div class="para">
		The virtual router provides DHCP and will automatically assign an IP address for each guest VM within the IP range assigned for the network. The user can manually reconfigure guest VMs to assume different IP addresses.
	</div><div class="para">
		Source NAT is automatically configured in the virtual router to forward outbound traffic for all guest VMs
	</div></div></div></body></html>
