<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>22.3. Data Loss on Exported Primary Storage</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.8" /><meta name="package" content="" /></head><body><div class="section" id="troubleshooting-dataloss-on-exported-primary-storage"><div class="titlepage"><div><div><h1 class="title" id="troubleshooting-dataloss-on-exported-primary-storage">22.3. Data Loss on Exported Primary Storage</h1></div></div></div><div class="formalpara"><h5 class="formalpara" id="idm37672040">Symptom</h5>
			Loss of existing data on primary storage which has been exposed as a Linux NFS server export on an iSCSI volume.
		</div><div class="formalpara"><h5 class="formalpara" id="idm24762136">Cause</h5>
			It is possible that a client from outside the intended pool has mounted the storage. When this occurs, the LVM is wiped and all data in the volume is lost
		</div><div class="formalpara"><h5 class="formalpara" id="idm21908832">Solution</h5>
			When setting up LUN exports, restrict the range of IP addresses that are allowed access by specifying a subnet mask. For example:
		</div><pre class="programlisting">echo “/export 192.168.1.0/24(rw,async,no_root_squash)” &gt; /etc/exports</pre><div class="para">
		Adjust the above command to suit your deployment needs.
	</div><div class="formalpara"><h5 class="formalpara" id="idm33855624">More Information</h5>
			See the export procedure in the "Secondary Storage" section of the CloudStack Installation Guide
		</div></div></body></html>
