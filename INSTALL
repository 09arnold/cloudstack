---------------------------------------------------------------------
TABLE OF CONTENTS
---------------------------------------------------------------------


1. Really quick start: building and installing a production stack
2. Post-install: setting the CloudStack components up
3. Installation paths: where the stack is installed on your system
4. Uninstalling the CloudStack from your system


---------------------------------------------------------------------
REALLY QUICK START: BUILDING AND INSTALLING A PRODUCTION STACK
---------------------------------------------------------------------


You have two options.  Choose one:

a) Building distribution packages from the source and installing them
b) Building from the source and installing directly from there


=== I want to build and install distribution packages ===

This is the recommended way to run your CloudStack cloud.  The
advantages are that dependencies are taken care of automatically
for you, and you can verify the integrity of the installed files
using your system's package manager.

1. As root, install the build dependencies.

   a) Fedora / CentOS: ./waf installrpmdeps
   
   b) Ubuntu: ./waf installdebdeps
   
2. As a non-root user, build the CloudStack packages.

   a) Fedora / CentOS: ./waf rpm
   
   b) Ubuntu: ./waf deb
   
3. As root, install the CloudStack packages.
   You can choose which components to install on your system.

   a) Fedora / CentOS: the installable RPMs are in artifacts/rpmbuild
      install as root: rpm -ivh artifacts/rpmbuild/RPMS/{x86_64,noarch,i386}/*.rpm
      
   b) Ubuntu: the installable DEBs are in artifacts/debbuild
      install as root: dpkg -i artifacts/debbuild/*.deb

4. Configure and start the components you intend to run.
   Consult the Installation Guide to find out how to
   configure each component, and "Installation paths" for information
   on where programs, initscripts and config files are installed.


=== I want to build and install directly from the source ===

This is the recommended way to run your CloudStack cloud if you
intend to modify the source, if you intend to port the CloudStack to
another distribution, or if you intend to run the CloudStack on a
distribution for which packages are not built.

1. As root, install the build dependencies.
   See below for a list.

2. As non-root, configure the build.
   See below to discover configuration options.

   ./waf configure

3. As non-root, build the CloudStack.
   To learn more, see "Quick guide to developing, building and
   installing from source" below.

   ./waf build

4. As root, install the runtime dependencies.
   See below for a list.
   
5. As root, Install the CloudStack

   ./waf install
   
6. Configure and start the components you intend to run.
   Consult the Installation Guide to find out how to
   configure each component, and "Installation paths" for information
   on where to find programs, initscripts and config files mentioned
   in the Installation Guide (paths may vary).


=== Dependencies of the CloudStack ===

- Build dependencies:

   1. FIXME DEPENDENCIES LIST THEM HERE

- Runtime dependencies:

   2. FIXME DEPENDENCIES LIST THEM HERE


---------------------------------------------------------------------
INSTALLATION PATHS: WHERE THE STACK IS INSTALLED ON YOUR SYSTEM
---------------------------------------------------------------------


The CloudStack build system installs files on a variety of paths, each
one of which is selectable when building from source.

- $PREFIX:
	the default prefix where the entire stack is installed
	defaults to /usr/local on source builds
	defaults to /usr on package builds
	
- $SYSCONFDIR/cloud:
	
	the prefix for CloudStack configuration files
	defaults to $PREFIX/etc/cloud on source builds
	defaults to /etc/cloud on package builds
	
- $SYSCONFDIR/init.d:
	the prefix for CloudStack initscripts
	defaults to $PREFIX/etc/init.d on source builds
	defaults to /etc/init.d on package builds
	
- $BINDIR:
	the CloudStack installs programs there
	defaults to $PREFIX/bin on source builds
	defaults to /usr/bin on package builds
	
- $LIBEXECDIR:
	the CloudStack installs service runners there
	defaults to $PREFIX/libexec on source builds
	defaults to /usr/libexec on package builds (/usr/bin on Ubuntu)


---------------------------------------------------------------------
UNINSTALLING THE CLOUDSTACK FROM YOUR SYSTEM
---------------------------------------------------------------------


- If you installed the CloudStack using packages, use your operating
  system package manager to remove the CloudStack packages.

   a) Fedora / CentOS: the installable RPMs are in artifacts/rpmbuild
      as root: rpm -qa | grep ^cloud- | xargs rpm -e
      
   b) Ubuntu: the installable DEBs are in artifacts/debbuild
      aptitude purge '~ncloud'

- If you installed from a source tree:
 
   ./waf uninstall

